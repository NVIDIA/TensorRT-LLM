# <<<< AUTO-GENERATED by scripts/generate_legacy_lint_config.py >>>>
# Source of truth: legacy-files.txt
# Do NOT edit this file by hand. To modify:
#   1. Edit legacy-files.txt
#   2. Run: python scripts/generate_legacy_lint_config.py
# <<<< AUTO-GENERATED >>>>

# Supplemental ruff config for legacy files (Group B).
# These files are formatted by yapf (80-char) + isort + autoflake.
# This config adds lint rules that the legacy tools do NOT cover,
# without conflicting with their formatting or import-sorting.

# Force-exclude ensures ruff respects the include list even when
# files are passed by path (e.g., via pre-commit).
force-exclude = true

include = [
{%- for path in paths %}
    "{{ path }}",
{%- endfor %}
]

[lint]
# Only rules NOT covered by yapf, isort, or autoflake.
# Suppressed overlap:
#   E1xx/E2xx/E3xx (indent/whitespace/blank lines) → yapf
#   E501/E502/E701-E703 (line length, backslash, statements) → yapf
#   W (except W605) → yapf
#   I001/I002 (import sorting) → isort
#   F401 (unused imports) → autoflake
#   F841 (unused variables) → autoflake
select = [
    # Bug detection (pyflakes) — NOT covered by autoflake
    "F402",   # import shadowed by loop var
    "F403",   # import star used
    "F405",   # undefined from import star
    "F601",   # repeated dict key
    "F811",   # redefined while unused
    "F821",   # undefined name
    "F822",   # undefined export
    "F901",   # raise NotImplemented (not NotImplementedError)

    # Semantic checks (pycodestyle) — NOT covered by yapf
    "E4",     # E401 multiple imports, E402 import not at top
    "E711",   # comparison to None
    "E712",   # comparison to True/False
    "E713",   # not-in test
    "E714",   # not-is test
    "E721",   # type comparison
    "E722",   # bare except
    "E731",   # lambda assignment
    "E741",   # ambiguous variable name

    # Docstring quality — NOT covered by any legacy tool
    "D",

    # Pylint errors — NOT covered by any legacy tool
    "PLE",

    # Invalid escape sequences — NOT covered by yapf
    "W605",
]
extend-ignore = [
    # We don't enforce writing docstrings for public code
    "D100", "D101", "D102", "D103", "D104", "D105", "D106", "D107", "D417",
]

[lint.per-file-ignores]
"__init__.py" = ["F403"]
"tests/_torch/auto_deploy/*" = ["D", "E402"]
"*/_[a-zA-Z]*" = ["D"]  # Private packages or modules

[lint.pycodestyle]
max-line-length = 120  # For comments and docstrings

[lint.pydocstyle]
convention = "google"

[lint.pylint]
max-args = 10
